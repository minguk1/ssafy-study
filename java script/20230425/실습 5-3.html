<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>인기 영화들</h1>
    <ul></ul>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        const API_URI = 'https://api.themoviedb.org/3/movie/popular?api_key=8474173a15e459f15155e1769e2d8415&language=ko-KR&page=1'
    
        function getpopular () {
      // axios를 사용하여 API_URI로 GET 요청을 보낸다.
        axios.get(API_URI)
      // .then 메서드를 통해 요청이 성공적인 경우의 콜백함수를 정의한다.
        .then((response) => {
            
      // 응답객체의 데이터에서 이미지에 대한 리소스를 img 요소의 src 속성으로 할당한다.
            
            const datas = response['data']['results']
            const ulTag = document.querySelector('ul')
            datas.forEach(element => {
                
                if (element['vote_average'] >= 8) {
                    const liTag = document.createElement('li')
                    liTag.innerText = element['title']
                    ulTag.appendChild(liTag)
                }
                
            });
            
        })
    }
    getpopular()



    </script>
</body>
</html>